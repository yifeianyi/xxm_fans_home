# åµŒå…¥å¼å·¥ç¨‹å¸ˆ Web å¼€å‘å­¦ä¹ è·¯çº¿

> åŸºäºã€Œå°æ»¡è™«ä¹‹å®¶ã€(XXM Fans Home) é¡¹ç›®æºç çš„å®æˆ˜å­¦ä¹ æŒ‡å—

---

## å‰è¨€

### å†™ç»™åµŒå…¥å¼å·¥ç¨‹å¸ˆ

ä½œä¸ºä¸€ååµŒå…¥å¼å·¥ç¨‹å¸ˆï¼Œä½ å·²ç»å…·å¤‡ï¼š
- âœ… æ‰å®çš„ C/C++ ç¼–ç¨‹åŸºç¡€
- âœ… å¯¹è®¡ç®—æœºç³»ç»Ÿåº•å±‚åŸç†çš„ç†è§£
- âœ… Linux ç³»ç»Ÿæ“ä½œç»éªŒ
- âœ… è°ƒè¯•å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›

è¿™äº›åŸºç¡€å°†å¸®åŠ©ä½ å¿«é€ŸæŒæ¡ Web å¼€å‘ã€‚æœ¬è·¯çº¿å°†åˆ©ç”¨ä½ çš„ç°æœ‰çŸ¥è¯†ï¼Œé€šè¿‡ã€Œå°æ»¡è™«ä¹‹å®¶ã€é¡¹ç›®çš„å®é™…æºç ï¼Œå¸¦ä½ ç³»ç»Ÿå­¦ä¹ ç°ä»£ Web å¼€å‘æŠ€æœ¯æ ˆã€‚

### å­¦ä¹ ç†å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åµŒå…¥å¼ â†’ Web æ€ç»´è½¬æ¢                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  åµŒå…¥å¼å¼€å‘                Web å¼€å‘                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚
â”‚                                                                 â”‚
â”‚  å•ç‰‡æœº/å¤„ç†å™¨    â”€â”€â”€â”€â”€â”€â–¶  æœåŠ¡å™¨ (Django)                       â”‚
â”‚  â”œâ”€ å¤„ç†è¯·æ±‚             â”œâ”€ å¤„ç† HTTP è¯·æ±‚                       â”‚
â”‚  â”œâ”€ ç®¡ç†å†…å­˜             â”œâ”€ ç®¡ç†æ•°æ®åº“è¿æ¥                       â”‚
â”‚  â””â”€ ç¡¬ä»¶ä¸­æ–­             â””â”€ URL è·¯ç”±åˆ†å‘                         â”‚
â”‚                                                                 â”‚
â”‚  å›ºä»¶ç¨‹åº        â”€â”€â”€â”€â”€â”€â–¶   å‰ç«¯åº”ç”¨ (React)                      â”‚
â”‚  â”œâ”€ ä¸»å¾ªç¯               â”œâ”€ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ                         â”‚
â”‚  â”œâ”€ äº‹ä»¶å¤„ç†             â”œâ”€ äº‹ä»¶ç›‘å¬                             â”‚
â”‚  â”œâ”€ çŠ¶æ€æœº               â”œâ”€ çŠ¶æ€ç®¡ç† (useState)                  â”‚
â”‚  â””â”€ æ˜¾ç¤ºåˆ·æ–°             â””â”€ è™šæ‹Ÿ DOM æ›´æ–°                        â”‚
â”‚                                                                 â”‚
â”‚  é€šä¿¡åè®®        â”€â”€â”€â”€â”€â”€â–¶   API æ¥å£ (REST)                       â”‚
â”‚  â”œâ”€ SPI/I2C/UART         â”œâ”€ HTTP/HTTPS                          â”‚
â”‚  â”œâ”€ æ•°æ®å¸§æ ¼å¼           â”œâ”€ JSON æ•°æ®æ ¼å¼                        â”‚
â”‚  â””â”€ ä¸»ä»æ¨¡å¼             â””â”€ å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å¼                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç¬¬ä¸€é˜¶æ®µï¼šPython ä¸åç«¯åŸºç¡€ï¼ˆ2-3 å‘¨ï¼‰

### ç¬¬ 1 å‘¨ï¼šPython å¿«é€Ÿå…¥é—¨

#### å­¦ä¹ ç›®æ ‡
æŒæ¡ Python åŸºç¡€è¯­æ³•ï¼Œç†è§£ Pythonic ç¼–ç¨‹é£æ ¼ã€‚

#### å­¦ä¹ èµ„æº
- ğŸ“š [Python å®˜æ–¹æ•™ç¨‹](https://docs.python.org/zh-cn/3/tutorial/)ï¼ˆç¬¬ 1-9 ç« ï¼‰
- ğŸ¬ [å»–é›ªå³° Python æ•™ç¨‹](https://www.liaoxuefeng.com/wiki/1016959663602400)

#### åµŒå…¥å¼å·¥ç¨‹å¸ˆé‡ç‚¹å…³æ³¨

```python
# Python vs C å¯¹æ¯”å­¦ä¹ 

# 1. å˜é‡å®šä¹‰ - æ— éœ€ç±»å‹å£°æ˜ï¼Œç±»ä¼¼è„šæœ¬è¯­è¨€
# C: int count = 0;
count = 0  # Python

# 2. åˆ—è¡¨ vs æ•°ç»„
# C: int arr[] = {1, 2, 3};
arr = [1, 2, 3]  # Python åˆ—è¡¨ï¼ŒåŠ¨æ€æ‰©å®¹

# 3. å­—å…¸ vs ç»“æ„ä½“
# C: struct Person { char* name; int age; };
person = {"name": "XXM", "age": 25}  # Python å­—å…¸

# 4. å‡½æ•°å®šä¹‰
# C: int add(int a, int b) { return a + b; }
def add(a, b):  # Pythonï¼Œç±»å‹å¯é€‰
    return a + b

# 5. ç±»å®šä¹‰ - ç±»ä¼¼ C++ï¼Œä½†æ›´ç®€æ´
# C++: class Song { private: string name; public: void play(); };
class Song:
    def __init__(self, name):  # æ„é€ å‡½æ•°
        self.name = name       # self ç±»ä¼¼ this
    
    def play(self):
        print(f"Playing: {self.name}")

# 6. åˆ—è¡¨æ¨å¯¼å¼ - Python ç‰¹æœ‰ï¼Œé«˜æ•ˆç®€æ´
# C: éœ€è¦ for å¾ªç¯
# Python: ä¸€è¡Œä»£ç 
squares = [x**2 for x in range(10)]
```

#### å®æˆ˜ç»ƒä¹ 
```python
# ç»ƒä¹  1ï¼šå®ç°æ­Œæ›²ä¿¡æ¯è§£æï¼ˆå‚è€ƒé¡¹ç›®ä¸­çš„ Song æ¨¡å‹ï¼‰
# ç›®æ ‡ï¼šå°†å­—ç¬¦ä¸² " song_name | singer | perform_count " è§£æä¸ºå­—å…¸

def parse_song_info(song_str):
    """
    è¾“å…¥: "å‘Šç™½æ°”çƒ | å‘¨æ°ä¼¦ | 5"
    è¾“å‡º: {"name": "å‘Šç™½æ°”çƒ", "singer": "å‘¨æ°ä¼¦", "count": 5}
    """
    parts = song_str.split("|")
    return {
        "name": parts[0].strip(),
        "singer": parts[1].strip(),
        "count": int(parts[2].strip())
    }

# ç»ƒä¹  2ï¼šæ­Œæ›²åˆ—è¡¨æ’åºï¼ˆå‚è€ƒé¡¹ç›®ä¸­çš„æ’åºåŠŸèƒ½ï¼‰
songs = [
    {"name": "æ­Œ1", "perform_count": 3},
    {"name": "æ­Œ2", "perform_count": 10},
    {"name": "æ­Œ3", "perform_count": 1},
]
# æŒ‰æ¼”å”±æ¬¡æ•°é™åºæ’åº
sorted_songs = sorted(songs, key=lambda x: x["perform_count"], reverse=True)
```

### ç¬¬ 2 å‘¨ï¼šDjango åŸºç¡€

#### å­¦ä¹ ç›®æ ‡
ç†è§£ Django çš„ MTV æ¶æ„ï¼Œèƒ½å¤Ÿåˆ›å»ºç®€å•çš„æ¨¡å‹å’Œè§†å›¾ã€‚

#### æ ¸å¿ƒæ¦‚å¿µå¯¹ç…§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Django  vs  åµŒå…¥å¼ç³»ç»Ÿ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Django æ¦‚å¿µ          åµŒå…¥å¼ç±»æ¯”                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚                                                                 â”‚
â”‚  Model (æ¨¡å‹)    â”€â”€â–¶  æ•°æ®ç»“æ„å®šä¹‰                               â”‚
â”‚  â”œâ”€ å®šä¹‰æ•°æ®è¡¨         â”œâ”€ å®šä¹‰ç»“æ„ä½“                              â”‚
â”‚  â”œâ”€ ORM æ“ä½œ           â”œâ”€ å†…å­˜æ“ä½œ                                â”‚
â”‚  â””â”€ ç±»ä¼¼ SQL çš„æŸ¥è¯¢    â””â”€ ç±»ä¼¼å¯„å­˜å™¨è®¿é—®                          â”‚
â”‚                                                                 â”‚
â”‚  View (è§†å›¾)     â”€â”€â–¶  ä¸­æ–­æœåŠ¡ç¨‹åº                               â”‚
â”‚  â”œâ”€ å¤„ç† HTTP è¯·æ±‚     â”œâ”€ å¤„ç†ä¸­æ–­è¯·æ±‚                            â”‚
â”‚  â”œâ”€ è°ƒç”¨ Model æŸ¥è¯¢    â”œâ”€ è¯»å–ä¼ æ„Ÿå™¨æ•°æ®                          â”‚
â”‚  â””â”€ è¿”å› HTTP å“åº”     â””â”€ æ‰§è¡Œç›¸åº”æ“ä½œ                            â”‚
â”‚                                                                 â”‚
â”‚  Template (æ¨¡æ¿) â”€â”€â–¶  UI æ˜¾ç¤ºé€»è¾‘                                â”‚
â”‚  â”œâ”€ æ¸²æŸ“ HTML          â”œâ”€ åˆ·æ–°æ˜¾ç¤ºå±                              â”‚
â”‚  â””â”€ åŠ¨æ€æ•°æ®æ’å…¥       â””â”€ æ›´æ–°æ˜¾ç¤ºç¼“å†²åŒº                          â”‚
â”‚                                                                 â”‚
â”‚  URLConf (è·¯ç”±)  â”€â”€â–¶  ä¸­æ–­å‘é‡è¡¨                                 â”‚
â”‚  â”œâ”€ URL â†’ View æ˜ å°„    â”œâ”€ ä¸­æ–­æº â†’ å¤„ç†å‡½æ•°                       â”‚
â”‚  â””â”€ è¯·æ±‚åˆ†å‘            â””â”€ ä¸­æ–­åˆ†å‘                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å®æˆ˜ï¼šåˆ›å»ºä¸€ä¸ªç®€å•çš„æ­Œæ›²ç®¡ç†åº”ç”¨

```python
# æ­¥éª¤ 1ï¼šåˆ›å»ºé¡¹ç›®ï¼ˆç±»ä¼¼åˆ›å»ºåµŒå…¥å¼å·¥ç¨‹ï¼‰
# $ django-admin startproject mymusic
# $ cd mymusic
# $ python manage.py startapp songs

# æ­¥éª¤ 2ï¼šå®šä¹‰æ¨¡å‹ï¼ˆç±»ä¼¼å®šä¹‰æ•°æ®ç»“æ„ï¼‰
# songs/models.py
from django.db import models

class Song(models.Model):
    """
    ç±»æ¯” C ç»“æ„ä½“ï¼š
    struct Song {
        char song_name[200];
        char singer[200];
        int perform_count;
    };
    """
    song_name = models.CharField(max_length=200)
    singer = models.CharField(max_length=200)
    perform_count = models.IntegerField(default=0)
    
    class Meta:
        db_table = 'songs'
        ordering = ['song_name']
    
    def __str__(self):
        return f"{self.song_name} - {self.singer}"

# æ­¥éª¤ 3ï¼šåˆ›å»ºè§†å›¾ï¼ˆç±»ä¼¼ä¸­æ–­å¤„ç†å‡½æ•°ï¼‰
# songs/views.py
from django.http import JsonResponse
from .models import Song

def song_list(request):
    """
    ç±»æ¯”ä¸­æ–­å¤„ç†ï¼š
    void handle_get_songs_request(Request* req, Response* resp) {
        Song* songs = db_query_all();
        resp->write_json(songs);
    }
    """
    songs = Song.objects.all()  # ç±»ä¼¼ SELECT * FROM songs
    data = [{
        'id': song.id,
        'name': song.song_name,
        'singer': song.singer,
        'count': song.perform_count
    } for song in songs]
    return JsonResponse({'songs': data})

def song_detail(request, song_id):
    """è·å–å•ä¸ªæ­Œæ›²è¯¦æƒ…"""
    try:
        song = Song.objects.get(id=song_id)
        return JsonResponse({
            'id': song.id,
            'name': song.song_name,
            'singer': song.singer,
            'count': song.perform_count
        })
    except Song.DoesNotExist:
        return JsonResponse({'error': 'Song not found'}, status=404)

# æ­¥éª¤ 4ï¼šé…ç½®è·¯ç”±ï¼ˆç±»ä¼¼ä¸­æ–­å‘é‡è¡¨ï¼‰
# songs/urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('songs/', views.song_list, name='song_list'),
    path('songs/<int:song_id>/', views.song_detail, name='song_detail'),
]
```

#### é˜…è¯»é¡¹ç›®æºç 
```
é˜…è¯»ä»»åŠ¡ï¼š
1. æŸ¥çœ‹ repo/xxm_fans_backend/song_management/models/song.py
   - ç†è§£ Song å’Œ SongRecord çš„å…³ç³»
   - æ³¨æ„ Meta é…ç½®å’Œç´¢å¼•è®¾è®¡

2. æŸ¥çœ‹ repo/xxm_fans_backend/song_management/api/song_views.py
   - ç†è§£ç±»è§†å›¾å’Œå‡½æ•°è§†å›¾çš„åŒºåˆ«
   - å­¦ä¹ å¦‚ä½•ä½¿ç”¨åºåˆ—åŒ–å™¨

3. æŸ¥çœ‹ repo/xxm_fans_backend/xxm_fans_home/urls.py
   - ç†è§£ URL è·¯ç”±é…ç½®
   - æ³¨æ„ include() çš„ç”¨æ³•
```

### ç¬¬ 3 å‘¨ï¼šDjango REST Framework

#### å­¦ä¹ ç›®æ ‡
æŒæ¡ RESTful API å¼€å‘ï¼Œç†è§£åºåˆ—åŒ–å™¨å’Œè§†å›¾é›†ã€‚

#### æ ¸å¿ƒæ¦‚å¿µ

```python
# REST Framework vs åŸå§‹ Django

# åŸå§‹ Djangoï¼ˆç±»ä¼¼è£¸æœºç¼–ç¨‹ï¼‰
def song_list(request):
    songs = Song.objects.all()
    data = [{'id': s.id, 'name': s.song_name} for s in songs]
    return JsonResponse(data, safe=False)

# DRFï¼ˆç±»ä¼¼ä½¿ç”¨ HAL åº“ï¼‰
from rest_framework import serializers, viewsets

class SongSerializer(serializers.ModelSerializer):
    """åºåˆ—åŒ–å™¨ - ç±»ä¼¼æ•°æ®æ‰“åŒ…/è§£åŒ…"""
    class Meta:
        model = Song
        fields = ['id', 'song_name', 'singer', 'perform_count']

class SongViewSet(viewsets.ModelViewSet):
    """
    è§†å›¾é›† - è‡ªåŠ¨æä¾› CRUD æ“ä½œ
    ç±»ä¼¼ï¼šä¸€å¥—ä¸­æ–­å¤„ç†å‡½æ•°å¤„ç†å¤šç§è¯·æ±‚
    """
    queryset = Song.objects.all()
    serializer_class = SongSerializer
```

#### å®æˆ˜ç»ƒä¹ 
```python
# ç»ƒä¹ ï¼šä¸º SongRecord åˆ›å»ºå®Œæ•´çš„ REST API
# å‚è€ƒé¡¹ç›®ä¸­çš„ song_management/api/record_views.py

from rest_framework.decorators import api_view
from rest_framework.response import Response
from rest_framework import status

@api_view(['GET', 'POST'])
def song_record_list(request, song_id):
    """
    GET: è·å–æ­Œæ›²çš„æ‰€æœ‰æ¼”å”±è®°å½•
    POST: æ·»åŠ æ–°çš„æ¼”å”±è®°å½•
    """
    if request.method == 'GET':
        records = SongRecord.objects.filter(song_id=song_id)
        serializer = SongRecordSerializer(records, many=True)
        return Response(serializer.data)
    
    elif request.method == 'POST':
        serializer = SongRecordSerializer(data=request.data)
        if serializer.is_valid():
            serializer.save(song_id=song_id)
            return Response(serializer.data, status=status.HTTP_201_CREATED)
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
```

#### é˜…è¯»é¡¹ç›®æºç 
```
é˜…è¯»ä»»åŠ¡ï¼š
1. repo/xxm_fans_backend/song_management/api/serializers.py
   - ç†è§£ ModelSerializer çš„ç”¨æ³•
   - æ³¨æ„åµŒå¥—åºåˆ—åŒ–å™¨ï¼ˆSongWithRecordsSerializerï¼‰

2. repo/xxm_fans_backend/song_management/api/views.py
   - ç†è§£è§†å›¾é›†çš„è·¯ç”±è‡ªåŠ¨ç”Ÿæˆ
   - å­¦ä¹ å¦‚ä½•è‡ªå®šä¹‰æŸ¥è¯¢

3. repo/xxm_fans_backend/core/responses.py
   - ç†è§£ç»Ÿä¸€å“åº”æ ¼å¼çš„å°è£…
```

---

## ç¬¬äºŒé˜¶æ®µï¼šæ•°æ®åº“ä¸ ORMï¼ˆ1-2 å‘¨ï¼‰

### ç¬¬ 4 å‘¨ï¼šæ•°æ®åº“åŸºç¡€ä¸ Django ORM

#### å­¦ä¹ ç›®æ ‡
ç†è§£å…³ç³»å‹æ•°æ®åº“æ¦‚å¿µï¼Œç†Ÿç»ƒä½¿ç”¨ Django ORMã€‚

#### åµŒå…¥å¼å·¥ç¨‹å¸ˆè§†è§’

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®åº“ vs åµŒå…¥å¼å­˜å‚¨                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  æ•°æ®åº“              åµŒå…¥å¼ç±»æ¯”                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€             â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
â”‚                                                                 â”‚
â”‚  æ•°æ®åº“(Database)    é—ªå­˜/å­˜å‚¨èŠ¯ç‰‡                               â”‚
â”‚  è¡¨(Table)           ç»“æ„åŒ–æ•°æ®åŒºåŸŸ                              â”‚
â”‚  è¡Œ(Row)             ä¸€ä¸ªæ•°æ®è®°å½•                                â”‚
â”‚  åˆ—(Column)          æ•°æ®å­—æ®µ                                    â”‚
â”‚  ä¸»é”®(Primary Key)   å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆå¦‚è®¾å¤‡ IDï¼‰                     â”‚
â”‚  å¤–é”®(Foreign Key)   æŒ‡é’ˆ/å¼•ç”¨                                   â”‚
â”‚  ç´¢å¼•(Index)         æŸ¥æ‰¾è¡¨ï¼ˆåŠ é€ŸæŸ¥è¯¢ï¼‰                          â”‚
â”‚  SQL                 æ“ä½œå­˜å‚¨çš„æŒ‡ä»¤é›†                            â”‚
â”‚  ORM                 ç¡¬ä»¶æŠ½è±¡å±‚ï¼ˆHALï¼‰                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Django ORM å®æˆ˜

```python
# ORM æ“ä½œ vs SQL

# æŸ¥è¯¢æ‰€æœ‰æ­Œæ›²
# SQL: SELECT * FROM songs;
Song.objects.all()

# æ¡ä»¶æŸ¥è¯¢
# SQL: SELECT * FROM songs WHERE perform_count > 5;
Song.objects.filter(perform_count__gt=5)

# å¤šæ¡ä»¶æŸ¥è¯¢
# SQL: SELECT * FROM songs WHERE singer='XXM' AND perform_count > 0;
Song.objects.filter(singer='XXM', perform_count__gt=0)

# å…³è”æŸ¥è¯¢ï¼ˆJOINï¼‰
# SQL: SELECT * FROM song_records JOIN songs ON ...
SongRecord.objects.select_related('song').all()

# èšåˆæŸ¥è¯¢
# SQL: SELECT COUNT(*), AVG(perform_count) FROM songs;
from django.db.models import Count, Avg
Song.objects.aggregate(
    total=Count('id'),
    avg_count=Avg('perform_count')
)

# æ‰¹é‡æ“ä½œï¼ˆç±»ä¼¼ DMAï¼‰
# æ¯”å¾ªç¯å•æ¡æ“ä½œæ•ˆç‡é«˜å¾—å¤š
Song.objects.bulk_create([
    Song(song_name='æ­Œ1', singer='A'),
    Song(song_name='æ­Œ2', singer='B'),
])
```

#### é˜…è¯»é¡¹ç›®æºç 
```
é˜…è¯»ä»»åŠ¡ï¼š
1. repo/xxm_fans_backend/song_management/models/
   - ç†è§£æ¨¡å‹ä¹‹é—´çš„å…³ç³»ï¼ˆForeignKeyï¼‰
   - æ³¨æ„ related_name çš„ç”¨æ³•

2. repo/xxm_fans_backend/gallery/models.py
   - ç†è§£è‡ªå¼•ç”¨å¤–é”®ï¼ˆå¤šçº§åˆ†ç±»ï¼‰
   - å­¦ä¹ æ¨¡å‹æ–¹æ³•çš„å®šä¹‰

3. repo/xxm_fans_backend/data_analytics/models/
   - ç†è§£ç´¢å¼•è®¾è®¡ï¼ˆMeta.indexesï¼‰
   - æ³¨æ„å”¯ä¸€çº¦æŸï¼ˆunique_togetherï¼‰
```

---

## ç¬¬ä¸‰é˜¶æ®µï¼šå‰ç«¯åŸºç¡€ï¼ˆ3-4 å‘¨ï¼‰

### ç¬¬ 5 å‘¨ï¼šHTML/CSS/JavaScript åŸºç¡€

#### å­¦ä¹ ç›®æ ‡
æŒæ¡ Web å‰ç«¯ä¸‰ä»¶å¥—ï¼Œç†è§£ DOM æ“ä½œã€‚

#### åµŒå…¥å¼å·¥ç¨‹å¸ˆè§†è§’

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Web å‰ç«¯ vs åµŒå…¥å¼ UI                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  HTML          â”€â”€â–¶  ç•Œé¢å¸ƒå±€æè¿°ï¼ˆç±»ä¼¼ç•Œé¢é…ç½®æ–‡ä»¶ï¼‰             â”‚
â”‚  CSS           â”€â”€â–¶  æ ·å¼/ä¸»é¢˜ï¼ˆç±»ä¼¼ UI çš®è‚¤ï¼‰                    â”‚
â”‚  JavaScript    â”€â”€â–¶  äº¤äº’é€»è¾‘ï¼ˆç±»ä¼¼äº‹ä»¶å¤„ç†ç¨‹åºï¼‰                 â”‚
â”‚  DOM           â”€â”€â–¶  ç•Œé¢å…ƒç´ æ ‘ï¼ˆç±»ä¼¼æ§ä»¶æ ‘ï¼‰                     â”‚
â”‚                                                                 â”‚
â”‚  ç±»æ¯” LVGLï¼ˆåµŒå…¥å¼ GUI åº“ï¼‰ï¼š                                    â”‚
â”‚  - HTML â‰ˆ lv_obj_create() åˆ›å»ºæ§ä»¶                              â”‚
â”‚  - CSS  â‰ˆ lv_style è®¾ç½®æ ·å¼                                     â”‚
â”‚  - JS   â‰ˆ lv_event å¤„ç†äº‹ä»¶                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å¿«é€Ÿå…¥é—¨ç¤ºä¾‹

```html
<!-- index.html - ç±»ä¼¼ç•Œé¢å¸ƒå±€æ–‡ä»¶ -->
<!DOCTYPE html>
<html>
<head>
    <style>
        /* CSS - ç±»ä¼¼æ ·å¼é…ç½® */
        .song-card {
            border: 1px solid #ddd;
            padding: 16px;
            margin: 8px;
            border-radius: 8px;
        }
        .song-title {
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="song-list">
        <!-- åŠ¨æ€å†…å®¹æ’å…¥åŒºåŸŸ -->
    </div>
    
    <script>
        // JavaScript - ç±»ä¼¼ä¸»ç¨‹åº
        const songs = [
            {name: 'æ­Œ1', singer: 'A'},
            {name: 'æ­Œ2', singer: 'B'},
        ];
        
        // ç±»ä¼¼æ¸²æŸ“ç•Œé¢
        const container = document.getElementById('song-list');
        songs.forEach(song => {
            const card = document.createElement('div');
            card.className = 'song-card';
            card.innerHTML = `
                <div class="song-title">${song.name}</div>
                <div>${song.singer}</div>
            `;
            container.appendChild(card);
        });
    </script>
</body>
</html>
```

### ç¬¬ 6-7 å‘¨ï¼šTypeScript + React åŸºç¡€

#### å­¦ä¹ ç›®æ ‡
æŒæ¡ TypeScript ç±»å‹ç³»ç»Ÿï¼Œç†è§£ React ç»„ä»¶åŒ–å¼€å‘ã€‚

#### TypeScript å¿«é€Ÿå…¥é—¨

```typescript
// TypeScript vs C ç±»å‹ç³»ç»Ÿ

// åŸºç¡€ç±»å‹
let count: number = 0;        // ç±»ä¼¼ int
let name: string = "XXM";     // ç±»ä¼¼ char[]
let isActive: boolean = true; // ç±»ä¼¼ bool

// æ¥å£ - ç±»ä¼¼ç»“æ„ä½“å®šä¹‰
// C: struct Song { char* name; int count; };
interface Song {
    name: string;
    singer?: string;  // ? è¡¨ç¤ºå¯é€‰ï¼Œç±»ä¼¼å¯é€‰å­—æ®µ
    performCount: number;
}

// ä½¿ç”¨æ¥å£
const song: Song = {
    name: "å‘Šç™½æ°”çƒ",
    singer: "å‘¨æ°ä¼¦",
    performCount: 5
};

// å‡½æ•°ç±»å‹
// C: int add(int a, int b);
function add(a: number, b: number): number {
    return a + b;
}

// æ³›å‹ - ç±»ä¼¼ C æ¨¡æ¿
// C++: template<T> T getMax(T a, T b);
function getMax<T>(a: T, b: T): T {
    return a > b ? a : b;
}
```

#### React æ ¸å¿ƒæ¦‚å¿µ

```tsx
// React ç»„ä»¶ - ç±»ä¼¼å¯å¤ç”¨çš„ UI æ¨¡å—

import React, { useState, useEffect } from 'react';

// å‡½æ•°ç»„ä»¶ - ç°ä»£ React æ¨èæ–¹å¼
interface SongCardProps {
    song: Song;
    onPlay: (song: Song) => void;
}

// ç±»ä¼¼ï¼švoid render_song_card(Song song, void (*on_play)(Song))
const SongCard: React.FC<SongCardProps> = ({ song, onPlay }) => {
    // useState - ç±»ä¼¼çŠ¶æ€å˜é‡
    // const [state, setState] = useState(initialValue);
    const [isExpanded, setIsExpanded] = useState(false);
    
    // useEffect - ç±»ä¼¼åˆå§‹åŒ–/ææ„å¤„ç†
    // ç»„ä»¶æŒ‚è½½/æ›´æ–°/å¸è½½æ—¶æ‰§è¡Œ
    useEffect(() => {
        console.log(`Song ${song.name} mounted`);
        return () => {
            console.log(`Song ${song.name} unmounted`);
        };
    }, [song.name]);  // ä¾èµ–æ•°ç»„ï¼Œç±»ä¼¼è§¦å‘æ¡ä»¶
    
    return (
        <div className="song-card">
            <h3>{song.name}</h3>
            <p>{song.singer}</p>
            <button onClick={() => onPlay(song)}>
                æ’­æ”¾
            </button>
            <button onClick={() => setIsExpanded(!isExpanded)}>
                {isExpanded ? 'æ”¶èµ·' : 'å±•å¼€'}
            </button>
            {isExpanded && (
                <div>æ¼”å”±æ¬¡æ•°: {song.performCount}</div>
            )}
        </div>
    );
};

// åˆ—è¡¨æ¸²æŸ“
interface SongListProps {
    songs: Song[];
}

const SongList: React.FC<SongListProps> = ({ songs }) => {
    const handlePlay = (song: Song) => {
        console.log(`Playing: ${song.name}`);
    };
    
    return (
        <div className="song-list">
            {songs.map(song => (
                <SongCard 
                    key={song.name}  // ç±»ä¼¼å”¯ä¸€æ ‡è¯†
                    song={song} 
                    onPlay={handlePlay}
                />
            ))}
        </div>
    );
};
```

#### å®æˆ˜ç»ƒä¹ 
```tsx
// ç»ƒä¹ ï¼šå®ç°ä¸€ä¸ªç®€å•çš„æ­Œæ›²åˆ—è¡¨ç»„ä»¶
// å‚è€ƒé¡¹ç›®ä¸­çš„ presentation/components/features/SongTable.tsx

import React, { useState } from 'react';

interface Song {
    id: string;
    name: string;
    singer: string;
    performCount: number;
}

const SongTable: React.FC = () => {
    const [songs, setSongs] = useState<Song[]>([]);
    const [loading, setLoading] = useState(false);
    
    // æ¨¡æ‹ŸåŠ è½½æ•°æ®
    const loadSongs = async () => {
        setLoading(true);
        // å®é™…é¡¹ç›®ä¸­è¿™é‡Œè°ƒç”¨ API
        // const data = await songService.getSongs();
        setSongs([
            { id: '1', name: 'æ­Œ1', singer: 'A', performCount: 5 },
            { id: '2', name: 'æ­Œ2', singer: 'B', performCount: 3 },
        ]);
        setLoading(false);
    };
    
    if (loading) return <div>åŠ è½½ä¸­...</div>;
    
    return (
        <table>
            <thead>
                <tr>
                    <th>æ­Œæ›²å</th>
                    <th>æ­Œæ‰‹</th>
                    <th>æ¼”å”±æ¬¡æ•°</th>
                </tr>
            </thead>
            <tbody>
                {songs.map(song => (
                    <tr key={song.id}>
                        <td>{song.name}</td>
                        <td>{song.singer}</td>
                        <td>{song.performCount}</td>
                    </tr>
                ))}
            </tbody>
        </table>
    );
};
```

### ç¬¬ 8 å‘¨ï¼šç°ä»£å‰ç«¯å·¥å…·é“¾

#### å­¦ä¹ ç›®æ ‡
æŒæ¡ Viteã€Tailwind CSSã€React Routerã€‚

#### Viteï¼ˆæ„å»ºå·¥å…·ï¼‰
```bash
# ç±»ä¼¼ Makefile æˆ– CMakeï¼Œä½†ä¸“ä¸ºå‰ç«¯è®¾è®¡

# åˆ›å»ºé¡¹ç›®
npm create vite@latest my-app -- --template react-ts

# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# ç”Ÿäº§æ„å»ºï¼ˆä¼˜åŒ–ã€å‹ç¼©ï¼‰
npm run build
```

#### Tailwind CSSï¼ˆåŸå­åŒ– CSSï¼‰
```tsx
// ä¼ ç»Ÿ CSSï¼šéœ€è¦å†™æ ·å¼ç±»
// <div className="song-card">

// Tailwindï¼šç›´æ¥ä½¿ç”¨å·¥å…·ç±»
// ç±»ä¼¼å†…è”æ ·å¼ï¼Œä½†æ›´é«˜æ•ˆã€å¯å¤ç”¨
<div className="p-4 m-2 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow">
    <h3 className="text-lg font-bold text-gray-800">{song.name}</h3>
    <p className="text-sm text-gray-600">{song.singer}</p>
</div>

// å¸¸ç”¨ç±»å¯¹ç…§ï¼š
// p-4      â†’ padding: 1rem
// m-2      â†’ margin: 0.5rem
// bg-white â†’ background-color: white
// rounded-lg â†’ border-radius: 0.5rem
// text-lg  â†’ font-size: 1.125rem
// hover:shadow-lg â†’ é¼ æ ‡æ‚¬åœæ—¶é˜´å½±å¢å¤§
```

#### React Routerï¼ˆè·¯ç”±ç®¡ç†ï¼‰
```tsx
// ç±»ä¼¼åµŒå…¥å¼ä¸­çš„çŠ¶æ€æœºåˆ‡æ¢

import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';

const App: React.FC = () => {
    return (
        <BrowserRouter>
            <nav>
                <Link to="/">é¦–é¡µ</Link>
                <Link to="/songs">æ­Œæ›²</Link>
                <Link to="/gallery">å›¾é›†</Link>
            </nav>
            
            <Routes>
                <Route path="/" element={<HomePage />} />
                <Route path="/songs" element={<SongsPage />} />
                <Route path="/gallery" element={<GalleryPage />} />
            </Routes>
        </BrowserRouter>
    );
};
```

#### é˜…è¯»é¡¹ç›®æºç 
```
é˜…è¯»ä»»åŠ¡ï¼š
1. repo/xxm_fans_frontend/App.tsx
   - ç†è§£è·¯ç”±é…ç½®
   - æ³¨æ„ React.lazy å’Œä»£ç åˆ†å‰²

2. repo/xxm_fans_frontend/presentation/pages/HomePage.tsx
   - ç†è§£é¡µé¢ç»„ä»¶ç»“æ„
   - å­¦ä¹ å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰ hooks

3. repo/xxm_fans_frontend/presentation/components/features/SongTable.tsx
   - ç†è§£ç»„ä»¶çš„çŠ¶æ€ç®¡ç†
   - æ³¨æ„äº‹ä»¶å¤„ç†
```

---

## ç¬¬å››é˜¶æ®µï¼šå‰åç«¯è”è°ƒï¼ˆ1-2 å‘¨ï¼‰

### ç¬¬ 9 å‘¨ï¼šHTTP API ä¸æ•°æ®è·å–

#### å­¦ä¹ ç›®æ ‡
æŒæ¡ HTTP åè®®ï¼Œç†è§£ RESTful API è°ƒç”¨ã€‚

#### åµŒå…¥å¼å·¥ç¨‹å¸ˆè§†è§’

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   HTTP  vs  åµŒå…¥å¼é€šä¿¡                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  HTTP è¯·æ±‚       â”€â”€â–¶  ç±»ä¼¼å¸¦æœ‰æ ‡å‡†æ ¼å¼çš„å‘½ä»¤å¸§                    â”‚
â”‚  â”œâ”€ GET          â”€â”€â–¶  è¯»å–å¯„å­˜å™¨/æ•°æ®                             â”‚
â”‚  â”œâ”€ POST         â”€â”€â–¶  å†™å…¥æ•°æ®/æ‰§è¡Œæ“ä½œ                           â”‚
â”‚  â”œâ”€ PUT          â”€â”€â–¶  æ›´æ–°æ•°æ®                                    â”‚
â”‚  â””â”€ DELETE       â”€â”€â–¶  åˆ é™¤æ•°æ®                                    â”‚
â”‚                                                                 â”‚
â”‚  HTTP å“åº”çŠ¶æ€ç   â”€â”€â–¶  ç±»ä¼¼è¿”å›ç                                   â”‚
â”‚  â”œâ”€ 200 OK       â”€â”€â–¶  æ“ä½œæˆåŠŸ                                    â”‚
â”‚  â”œâ”€ 404 Not Found â”€â”€â–¶ åœ°å€/èµ„æºä¸å­˜åœ¨                             â”‚
â”‚  â”œâ”€ 500 Error    â”€â”€â–¶  å†…éƒ¨é”™è¯¯                                    â”‚
â”‚  â””â”€ 401/403      â”€â”€â–¶  æƒé™é”™è¯¯                                    â”‚
â”‚                                                                 â”‚
â”‚  JSON            â”€â”€â–¶  ç±»ä¼¼ç»“æ„åŒ–çš„äºŒè¿›åˆ¶åè®®                       â”‚
â”‚  Header          â”€â”€â–¶  ç±»ä¼¼å¸§å¤´ï¼ŒåŒ…å«å…ƒä¿¡æ¯                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### SWR æ•°æ®è·å–

```tsx
// SWR - ç±»ä¼¼å¸¦ç¼“å­˜çš„è¯»å–æœºåˆ¶

import useSWR from 'swr';

// æ•°æ®è·å–å‡½æ•°
const fetcher = (url: string) => fetch(url).then(res => res.json());

const SongList: React.FC = () => {
    // useSWR(key, fetcher, options)
    // ç±»ä¼¼ï¼šå¸¦ç¼“å­˜çš„ä¼ æ„Ÿå™¨è¯»å–
    const { data, error, isLoading } = useSWR(
        '/api/songs/',  // è¯·æ±‚çš„ key
        fetcher,         // æ•°æ®è·å–å‡½æ•°
        {
            refreshInterval: 5000,      // è‡ªåŠ¨åˆ·æ–°é—´éš”
            revalidateOnFocus: false,   // çª—å£èšç„¦æ—¶ä¸é‡æ–°éªŒè¯
        }
    );
    
    if (isLoading) return <div>åŠ è½½ä¸­...</div>;
    if (error) return <div>åŠ è½½å¤±è´¥</div>;
    
    return (
        <ul>
            {data?.results.map((song: Song) => (
                <li key={song.id}>{song.name}</li>
            ))}
        </ul>
    );
};
```

#### é˜…è¯»é¡¹ç›®æºç 
```
é˜…è¯»ä»»åŠ¡ï¼š
1. repo/xxm_fans_frontend/infrastructure/api/RealSongService.ts
   - ç†è§£ API å®¢æˆ·ç«¯å°è£…
   - æ³¨æ„é”™è¯¯å¤„ç†å’Œæ•°æ®è½¬æ¢

2. repo/xxm_fans_frontend/infrastructure/hooks/useData.ts
   - ç†è§£ SWR çš„å°è£…ä½¿ç”¨
   - å­¦ä¹ å¦‚ä½•å¤„ç†åˆ†é¡µæ•°æ®

3. repo/xxm_fans_frontend/domain/types.ts
   - ç†è§£é¢†åŸŸæ¨¡å‹ç±»å‹å®šä¹‰
   - æ³¨æ„å‰åç«¯æ•°æ®ç»“æ„çš„å¯¹åº”å…³ç³»
```

### ç¬¬ 10 å‘¨ï¼šæ•´åˆå®æˆ˜

#### å®æˆ˜é¡¹ç›®ï¼šå®ç°ä¸€ä¸ªå®Œæ•´çš„æ­Œæ›²è¯¦æƒ…é¡µé¢

```tsx
// pages/SongDetailPage.tsx

import React from 'react';
import { useParams } from 'react-router-dom';
import useSWR from 'swr';
import { Song, SongRecord } from '../domain/types';

const SongDetailPage: React.FC = () => {
    const { songId } = useParams<{ songId: string }>();
    
    // è·å–æ­Œæ›²è¯¦æƒ…
    const { data: song, error: songError } = useSWR<Song>(
        songId ? `/api/songs/${songId}/` : null
    );
    
    // è·å–æ¼”å”±è®°å½•
    const { data: records, error: recordsError } = useSWR<{results: SongRecord[]}>(
        songId ? `/api/songs/${songId}/records/` : null
    );
    
    if (songError) return <div>æ­Œæ›²åŠ è½½å¤±è´¥</div>;
    if (!song) return <div>åŠ è½½ä¸­...</div>;
    
    return (
        <div className="container mx-auto p-4">
            <h1 className="text-2xl font-bold">{song.name}</h1>
            <p className="text-gray-600">{song.originalArtist}</p>
            <p>æ¼”å”±æ¬¡æ•°: {song.performanceCount}</p>
            
            <h2 className="text-xl font-bold mt-6">æ¼”å”±è®°å½•</h2>
            {records?.results.map(record => (
                <div key={record.id} className="border p-2 mt-2 rounded">
                    <p>{record.date}</p>
                    <a href={record.videoUrl} target="_blank">è§‚çœ‹è§†é¢‘</a>
                </div>
            ))}
        </div>
    );
};
```

---

## ç¬¬äº”é˜¶æ®µï¼šéƒ¨ç½²ä¸è¿ç»´ï¼ˆ1-2 å‘¨ï¼‰

### ç¬¬ 11 å‘¨ï¼šLinux æœåŠ¡å™¨éƒ¨ç½²

#### å­¦ä¹ ç›®æ ‡
æŒæ¡ Nginxã€Gunicorn é…ç½®ï¼Œç†è§£ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ã€‚

#### éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”Ÿäº§éƒ¨ç½²æ¶æ„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ç”¨æˆ·è¯·æ±‚                                                       â”‚
â”‚      â”‚                                                          â”‚
â”‚      â–¼                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚   â”‚    Nginx    â”‚  â—€â”€â”€ åå‘ä»£ç†ï¼Œé™æ€æ–‡ä»¶æœåŠ¡ï¼ˆç±»ä¼¼ç½‘å…³ï¼‰        â”‚
â”‚   â”‚   (80/443)  â”‚                                               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚          â”‚                                                      â”‚
â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚          â”‚                  â”‚                  â”‚                â”‚
â”‚          â–¼                  â–¼                  â–¼                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚  React dist â”‚   â”‚  Gunicorn   â”‚   â”‚   media/    â”‚          â”‚
â”‚   â”‚  é™æ€æ–‡ä»¶   â”‚   â”‚  Django App â”‚   â”‚  åª’ä½“æ–‡ä»¶   â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  (8000ç«¯å£) â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                   â”‚   SQLite    â”‚                               â”‚
â”‚                   â”‚   æ•°æ®åº“    â”‚                               â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                 â”‚
â”‚   ç±»æ¯”åµŒå…¥å¼ç³»ç»Ÿï¼š                                               â”‚
â”‚   - Nginx    â†’  ä¸­æ–­æ§åˆ¶å™¨ï¼Œåˆ†å‘è¯·æ±‚                             â”‚
â”‚   - Gunicorn â†’  ä¸»ç¨‹åºï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘                             â”‚
â”‚   - SQLite   â†’  å†…éƒ¨å­˜å‚¨                                         â”‚
â”‚   - static/  â†’  åªè¯»å­˜å‚¨ï¼ˆå›ºä»¶ï¼‰                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### éƒ¨ç½²æ­¥éª¤

```bash
# 1. æœåŠ¡å™¨å‡†å¤‡ï¼ˆUbuntu/Debianï¼‰
sudo apt update
sudo apt install python3-pip python3-venv nginx sqlite3

# 2. é¡¹ç›®éƒ¨ç½²
cd /var/www/
git clone <your-project>
cd xxm_fans_home

# 3. åç«¯é…ç½®
cd repo/xxm_fans_backend
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python manage.py migrate
python manage.py collectstatic

# 4. Gunicorn é…ç½®ï¼ˆç±»ä¼¼å®ˆæŠ¤è¿›ç¨‹ï¼‰
# /etc/systemd/system/gunicorn.service
[Unit]
Description=Django Gunicorn Daemon
After=network.target

[Service]
User=www-data
Group=www-data
WorkingDirectory=/var/www/xxm_fans_home/repo/xxm_fans_backend
ExecStart=/var/www/xxm_fans_home/repo/xxm_fans_backend/venv/bin/gunicorn \
    --access-logfile - \
    --workers 3 \
    --bind unix:/var/www/xxm_fans_home/app.sock \
    xxm_fans_home.wsgi:application

[Install]
WantedBy=multi-user.target
```

#### Nginx é…ç½®

```nginx
# /etc/nginx/sites-available/xxm_fans_home
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /var/www/xxm_fans_home/repo/xxm_fans_frontend/dist;
        try_files $uri $uri/ /index.html;
    }

    # API è½¬å‘åˆ° Gunicorn
    location /api/ {
        proxy_pass http://unix:/var/www/xxm_fans_home/app.sock;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # åª’ä½“æ–‡ä»¶
    location /media/ {
        alias /var/www/xxm_fans_home/media/;
    }
}
```

#### é˜…è¯»é¡¹ç›®æºç 
```
é˜…è¯»ä»»åŠ¡ï¼š
1. infra/nginx/prod-xxm_nginx.conf
   - ç†è§£ Nginx é…ç½®ç»“æ„
   - æ³¨æ„é™æ€æ–‡ä»¶å’Œ API çš„è·¯ç”±åˆ†ç¦»

2. infra/systemd/
   - ç†è§£ systemd æœåŠ¡é…ç½®
   - å­¦ä¹ å¦‚ä½•ç®¡ç†è¿›ç¨‹

3. scripts/
   - ç†è§£éƒ¨ç½²è„šæœ¬
   - æ³¨æ„è½¯é“¾æ¥çš„ä½¿ç”¨
```

---

## ç¬¬å…­é˜¶æ®µï¼šæºç ç²¾è¯»ä¸å®æˆ˜ï¼ˆæŒç»­ï¼‰

### æŒ‰æ¨¡å—æ·±å…¥å­¦ä¹ 

#### æ¨¡å— 1ï¼šéŸ³ä¹èµ„äº§ç®¡ç†

```
å­¦ä¹ ç›®æ ‡ï¼šç†è§£æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

é˜…è¯»è·¯å¾„ï¼š
1. backend/song_management/models/song.py
   - ç†è§£ Song å’Œ SongRecord çš„å…³ç³»
   - æ³¨æ„æ•°æ®åº“ç´¢å¼•è®¾è®¡

2. backend/song_management/api/
   - views.py: ç†è§£ API å®ç°
   - serializers.py: ç†è§£æ•°æ®åºåˆ—åŒ–
   
3. frontend/presentation/pages/SongsPage.tsx
   - ç†è§£å‰ç«¯é¡µé¢å¦‚ä½•è°ƒç”¨åç«¯ API
   - æ³¨æ„çŠ¶æ€ç®¡ç†å’Œæ•°æ®æµ

å®è·µä»»åŠ¡ï¼š
- æ·»åŠ ä¸€ä¸ªæ–°çš„å­—æ®µåˆ° Song æ¨¡å‹
- å®ç°æŒ‰æ­Œæ‰‹ç­›é€‰åŠŸèƒ½
- æ·»åŠ å¯¼å‡ºæ­Œæ›²åˆ—è¡¨ä¸º CSV çš„åŠŸèƒ½
```

#### æ¨¡å— 2ï¼šå›¾é›†ç®¡ç†

```
å­¦ä¹ ç›®æ ‡ï¼šç†è§£å¤šçº§æ ‘å½¢ç»“æ„

é˜…è¯»è·¯å¾„ï¼š
1. backend/gallery/models.py
   - ç†è§£è‡ªå¼•ç”¨å¤–é”®
   - æ³¨æ„é€’å½’æ–¹æ³•å®ç°

2. frontend/presentation/pages/GalleryPage.tsx
   - ç†è§£æ ‘å½¢ç»„ä»¶æ¸²æŸ“
   - æ³¨æ„å›¾ç‰‡æ‡’åŠ è½½å®ç°

å®è·µä»»åŠ¡ï¼š
- å®ç°å›¾é›†æŠ˜å /å±•å¼€åŠŸèƒ½
- æ·»åŠ å›¾ç‰‡æ‰¹é‡ä¸Šä¼ åŠŸèƒ½
```

#### æ¨¡å— 3ï¼šæ•°æ®åˆ†æ

```
å­¦ä¹ ç›®æ ‡ï¼šç†è§£æ•°æ®çˆ¬è™«å’Œç»Ÿè®¡

é˜…è¯»è·¯å¾„ï¼š
1. spider/run_tiered_crawler.py
   - ç†è§£åˆ†å±‚çˆ¬è™«ç­–ç•¥
   
2. backend/data_analytics/models/
   - ç†è§£æ•°æ®æ¨¡å‹è®¾è®¡

3. frontend/presentation/pages/DataAnalysisPage.tsx
   - ç†è§£å›¾è¡¨ç»„ä»¶ä½¿ç”¨

å®è·µä»»åŠ¡ï¼š
- æ·»åŠ æ–°çš„ç»Ÿè®¡æŒ‡æ ‡
- å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½
```

---

## å­¦ä¹ èµ„æºæ¨è

### å®˜æ–¹æ–‡æ¡£ï¼ˆä¼˜å…ˆé˜…è¯»ï¼‰
| æŠ€æœ¯ | æ–‡æ¡£é“¾æ¥ | å»ºè®®ç« èŠ‚ |
|------|----------|----------|
| Python | docs.python.org/zh-cn/3/ | æ•™ç¨‹å…¨ç¯‡ |
| Django | docs.djangoproject.com | å…¥é—¨æ•™ç¨‹ + ORM |
| DRF | www.django-rest-framework.org | å¿«é€Ÿå…¥é—¨ |
| React | react.dev | å¿«é€Ÿå…¥é—¨ + ä¸»è¦æ¦‚å¿µ |
| TypeScript | typescriptlang.org/docs |  handbook |
| Tailwind | tailwindcss.com/docs | æ ¸å¿ƒæ¦‚å¿µ |

### è§†é¢‘æ•™ç¨‹
- ğŸ¬ [Django ä¼ä¸šå¼€å‘å®æˆ˜](https://www.bilibili.com) - Bç«™æœç´¢
- ğŸ¬ [React æŠ€æœ¯æ ˆ](https://www.bilibili.com) - Bç«™æœç´¢
- ğŸ¬ [TypeScript å…¥é—¨](https://www.bilibili.com) - Bç«™æœç´¢

### å®è·µé¡¹ç›®å»ºè®®
1. **ä¸ªäººåšå®¢ç³»ç»Ÿ**ï¼ˆ2 å‘¨ï¼‰
   - æ–‡ç« å‘å¸ƒ/ç¼–è¾‘/åˆ é™¤
   - è¯„è®ºç³»ç»Ÿ
   - ç®€å•çš„åå°ç®¡ç†

2. **è®¾å¤‡ç®¡ç†å¹³å°**ï¼ˆ3 å‘¨ï¼‰
   - ç»“åˆä½ çš„åµŒå…¥å¼èƒŒæ™¯
   - è®¾å¤‡æ³¨å†Œ/çŠ¶æ€ç›‘æ§
   - æ•°æ®å¯è§†åŒ–
   - è¿œç¨‹æ§åˆ¶æ¥å£

---

## å­¦ä¹ æ—¶é—´è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å­¦ä¹ æ—¶é—´å®‰æ’                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  å‘¨æ•°    é˜¶æ®µ              å†…å®¹                        æ—¶é—´æŠ•å…¥  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚   1-3    ç¬¬ä¸€é˜¶æ®µ         Python + Django åŸºç¡€         2-3h/å¤©  â”‚
â”‚   4-5    ç¬¬äºŒé˜¶æ®µ         æ•°æ®åº“ä¸ ORM                 2-3h/å¤©  â”‚
â”‚   6-9    ç¬¬ä¸‰é˜¶æ®µ         å‰ç«¯åŸºç¡€ (TS/React)          3-4h/å¤©  â”‚
â”‚  10-11   ç¬¬å››é˜¶æ®µ         å‰åç«¯è”è°ƒ                   2-3h/å¤©  â”‚
â”‚  12-13   ç¬¬äº”é˜¶æ®µ         éƒ¨ç½²ä¸è¿ç»´                   2h/å¤©    â”‚
â”‚  14+     ç¬¬å…­é˜¶æ®µ         æºç ç²¾è¯» + å®æˆ˜é¡¹ç›®          æŒç»­      â”‚
â”‚                                                                 â”‚
â”‚  æ€»è®¡ï¼šçº¦ 3 ä¸ªæœˆè¾¾åˆ°ç‹¬ç«‹å¼€å‘æ°´å¹³                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¸¸è§é—®é¢˜ FAQ

### Q1: åµŒå…¥å¼è½¬ Web æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ
- æ‰å®çš„ç¼–ç¨‹åŸºç¡€
- ç†Ÿæ‚‰ Linux ç³»ç»Ÿï¼ˆéƒ¨ç½²æœ‰ä¼˜åŠ¿ï¼‰
- ç†è§£ç¡¬ä»¶åŸç†ï¼ˆIoT é¡¹ç›®æœ‰ä¼˜åŠ¿ï¼‰
- è°ƒè¯•èƒ½åŠ›å¼º

### Q2: å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°å›°éš¾æ€ä¹ˆåŠï¼Ÿ
1. å…ˆç†è§£æ¦‚å¿µï¼Œä¸è¦æ€¥äºå†™ä»£ç 
2. å¤šåˆ©ç”¨ä½ çš„åµŒå…¥å¼çŸ¥è¯†è¿›è¡Œç±»æ¯”
3. å–„ç”¨ Chrome DevTools è°ƒè¯•
4. å‚è€ƒé¡¹ç›®æºç çš„å®ç°æ–¹å¼

### Q3: å¦‚ä½•å¿«é€Ÿå®šä½é—®é¢˜ï¼Ÿ
```
åç«¯é—®é¢˜ï¼š
- æŸ¥çœ‹ Django é”™è¯¯é¡µé¢ï¼ˆDEBUG=True æ—¶ï¼‰
- æŸ¥çœ‹æ—¥å¿—ï¼šlogs/django.log
- ä½¿ç”¨æ–­ç‚¹è°ƒè¯•ï¼špdb æˆ– IDE è°ƒè¯•å™¨

å‰ç«¯é—®é¢˜ï¼š
- F12 æ‰“å¼€ DevTools
- Console æŸ¥çœ‹æŠ¥é”™
- Network æŸ¥çœ‹ API è°ƒç”¨
- ä½¿ç”¨ React DevTools æ’ä»¶
```

### Q4: å¦‚ä½•è´¡çŒ®ä»£ç åˆ°é¡¹ç›®ï¼Ÿ
1. å…ˆé˜…è¯»ç°æœ‰ä»£ç ï¼Œç†è§£ä»£ç é£æ ¼
2. ä»å°åŠŸèƒ½å¼€å§‹ï¼ˆå¦‚æ·»åŠ ä¸€ä¸ªå­—æ®µï¼‰
3. éµå¾ªé¡¹ç›®çš„æ¶æ„è§„èŒƒ
4. æäº¤å‰è¿›è¡Œæµ‹è¯•

---

## æ€»ç»“

ä½œä¸ºåµŒå…¥å¼å·¥ç¨‹å¸ˆï¼Œä½ å·²ç»å…·å¤‡äº†å­¦ä¹  Web å¼€å‘çš„åšå®åŸºç¡€ã€‚é€šè¿‡è¿™ä»½è·¯çº¿ï¼š

1. **åˆ©ç”¨å·²æœ‰çŸ¥è¯†** - å°† Web æ¦‚å¿µä¸åµŒå…¥å¼ç»éªŒç±»æ¯”
2. **å¾ªåºæ¸è¿›** - ä»åç«¯åˆ°å‰ç«¯ï¼Œä»åŸºç¡€åˆ°å®æˆ˜
3. **é¡¹ç›®é©±åŠ¨** - é€šè¿‡å°æ»¡è™«ä¹‹å®¶æºç å­¦ä¹ çœŸå®é¡¹ç›®
4. **æŒç»­å®è·µ** - ç†è®ºå­¦ä¹ åç«‹å³åŠ¨æ‰‹å®è·µ

ç¥ä½ å­¦ä¹ é¡ºåˆ©ï¼æœ‰ä»»ä½•é—®é¢˜å¯ä»¥æŸ¥é˜…é¡¹ç›®æ–‡æ¡£æˆ–å¯»æ±‚ç¤¾åŒºå¸®åŠ©ã€‚
