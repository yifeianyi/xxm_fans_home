# 歌曲筛选功能实现文档

## 时间
2025年9月18日

## 涉及的函数
1. `filterBySinger` - 根据原唱筛选歌曲
2. `filterByStyle` - 根据曲风筛选歌曲
3. `filterByLanguage` - 根据语言筛选歌曲
4. `filterByTag` - 根据标签筛选歌曲
5. `fetchSongs` - 获取歌曲列表数据
6. `fetchSongsWithParams` - 带自定义参数获取歌曲列表数据

## 功能描述
在用户页面的歌单页中，实现点击歌曲的原唱、曲风、语言、标签时能进行对应歌曲筛选的功能。

## 实现细节

### 前端实现 (Vue.js)
1. 在SongList.vue组件中，为原唱、曲风、语言、标签列添加了点击事件处理函数
2. 为可筛选的单元格添加了特殊的CSS样式，使其具有更好的视觉效果
3. 实现了四个筛选函数：
   - `filterBySinger`: 点击原唱时，使用原唱名称作为搜索关键词进行筛选
   - `filterByStyle`: 点击曲风时，清空其他筛选条件，仅使用该曲风进行筛选
   - `filterByLanguage`: 点击语言时，清空其他筛选条件，仅使用该语言进行筛选
   - `filterByTag`: 点击标签时，清空其他筛选条件，仅使用该标签进行筛选
4. 添加了`fetchSongsWithParams`函数来支持传递额外的筛选参数

### 后端实现 (Django)
1. 后端API已支持多种筛选参数：
   - `q`: 搜索关键词（用于原唱筛选）
   - `styles`: 曲风筛选
   - `tags`: 标签筛选
   - `language`: 语言筛选

## 代码修改

### 前端修改
1. 修改了`SongList.vue`中的表格列，为原唱、曲风、语言、标签添加了点击事件
2. 添加了相应的筛选函数
3. 更新了数据获取函数以支持多种筛选参数
4. 添加了CSS样式使可筛选单元格具有更好的视觉效果

### 后端修改
1. 无需修改，后端API已支持所需的所有筛选功能

## 使用方法
1. 在歌单页面中，点击歌曲列表中的原唱、曲风、语言或标签
2. 系统会自动根据点击的内容进行筛选，并更新歌曲列表
3. 筛选结果会显示在页面上，同时更新分页信息